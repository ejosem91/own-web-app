---
import Layout from '../layouts/Layout.astro';
import '../styles/global.css';
const titulo = "Contacto";
---
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>{titulo}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>
  <body class="font-sans bg-gray-50 min-h-screen py-12 px-4">
    <div class="max-w-2xl mx-auto">
      <div class="bg-white rounded-xl shadow-lg p-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-8 text-center">Contáctanos</h1>

        <form id="contact-form" action="/api/contact-us" method="POST" class="space-y-6">
          <input type="checkbox" name="botcheck" tabindex="-1" autocomplete="off" class="hidden" />
          
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
              Nombre
            </label>
            <input 
              id="name"
              name="name" 
              type="text" 
              required 
              autocomplete="name"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
              placeholder="Tu nombre completo"
            />
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">
              Email *
            </label>
            <input 
              id="email"
              name="email" 
              type="email" 
              required 
              autocomplete="email"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
              placeholder="tu@email.com"
            />
          </div>

          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 mb-2">
              Mensaje *
            </label>
            <textarea 
              id="message"
              name="message" 
              required 
              minlength="10" 
              rows="6"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 resize-vertical"
              placeholder="Escribe tu mensaje aquí..."
            ></textarea>
          </div>

          <button 
            type="submit" 
            id="submit-btn"
            class="w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-6 rounded-lg transition-all duration-200 flex items-center justify-center space-x-2"
          >
            <span id="submit-text">Enviar mensaje</span>
            <svg id="loading-spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
            </svg>
          </button>
        </form>
      </div>
    </div>

    <script>
      document.getElementById('contact-form')?.addEventListener('submit', function(e) {
        const submitBtn = document.getElementById('submit-btn');
        const submitText = document.getElementById('submit-text');
        const loadingSpinner = document.getElementById('loading-spinner');
        
        if (submitBtn && submitText && loadingSpinner) {
          // Deshabilitar el botón y mostrar loading
          submitBtn.disabled = true;
          submitText.textContent = 'Enviando...';
          loadingSpinner.classList.remove('hidden');
        }
      });
    </script>
  </body>
</html>
